import { PERMISSIONS } from "./permissions"

export const AUTH_CONFIG = {
  API_BASE_URL: "https://d3324f2b-c80d-4cbb-b79e-06687739daaa-00-f9udfc02zf4g.kirk.replit.dev",
  TOKEN_KEY: "djobea_token",
  REFRESH_TOKEN_KEY: "djobea_refresh_token",
  USER_KEY: "djobea_user",
  TOKEN_EXPIRY: 24 * 60 * 60 * 1000, // 24 hours
  REFRESH_TOKEN_EXPIRY: 7 * 24 * 60 * 60 * 1000, // 7 days
  TOKEN_REFRESH_THRESHOLD: 5 * 60 * 1000, // 5 minutes
  STORAGE_KEYS: {
    TOKENS: "djobea_auth_tokens",
    USER: "djobea_auth_user",
  },
  PUBLIC_ROUTES: ["/login", "/register", "/forgot-password", "/reset-password"],
  PROTECTED_ROUTES: ["/", "/dashboard", "/analytics", "/providers", "/requests", "/settings", "/admin"],
}

export const ROLES = {
  SUPER_ADMIN: "super_admin",
  ADMIN: "admin",
  MANAGER: "manager",
  OPERATOR: "operator",
  VIEWER: "viewer",
} as const

// Role permissions mapping
export const ROLE_PERMISSIONS = {
  [ROLES.SUPER_ADMIN]: [PERMISSIONS.SUPER_ADMIN], // Super admin bypasses all checks
  [ROLES.ADMIN]: [
    // System Management
    PERMISSIONS.SYSTEM_VIEW,
    PERMISSIONS.SYSTEM_MANAGE,
    PERMISSIONS.SYSTEM_MAINTENANCE,
    PERMISSIONS.SYSTEM_LOGS,
    PERMISSIONS.SYSTEM_HEALTH,
    PERMISSIONS.SYSTEM_METRICS,
    PERMISSIONS.SYSTEM_MONITORING,
    PERMISSIONS.SYSTEM_ALERTS,
    PERMISSIONS.SYSTEM_PERFORMANCE,

    // User Management
    PERMISSIONS.USERS_VIEW,
    PERMISSIONS.USERS_CREATE,
    PERMISSIONS.USERS_UPDATE,
    PERMISSIONS.USERS_DELETE,
    PERMISSIONS.USERS_MANAGE,
    PERMISSIONS.USERS_PERMISSIONS,
    PERMISSIONS.USERS_ROLES,
    PERMISSIONS.USERS_PROFILE,
    PERMISSIONS.USERS_SESSIONS,
    PERMISSIONS.USERS_ACTIVITY,

    // Roles & Permissions
    PERMISSIONS.ROLES_VIEW,
    PERMISSIONS.ROLES_CREATE,
    PERMISSIONS.ROLES_UPDATE,
    PERMISSIONS.ROLES_DELETE,
    PERMISSIONS.ROLES_MANAGE,
    PERMISSIONS.PERMISSIONS_VIEW,
    PERMISSIONS.PERMISSIONS_MANAGE,

    // Dashboard
    PERMISSIONS.DASHBOARD_VIEW,
    PERMISSIONS.DASHBOARD_ADMIN,
    PERMISSIONS.DASHBOARD_CUSTOMIZE,
    PERMISSIONS.DASHBOARD_WIDGETS,
    PERMISSIONS.DASHBOARD_EXPORT,
    PERMISSIONS.DASHBOARD_SHARE,

    // Analytics
    PERMISSIONS.ANALYTICS_VIEW,
    PERMISSIONS.ANALYTICS_CREATE,
    PERMISSIONS.ANALYTICS_UPDATE,
    PERMISSIONS.ANALYTICS_DELETE,
    PERMISSIONS.ANALYTICS_EXPORT,
    PERMISSIONS.ANALYTICS_SHARE,
    PERMISSIONS.ANALYTICS_REPORTS,
    PERMISSIONS.ANALYTICS_KPI,
    PERMISSIONS.ANALYTICS_INSIGHTS,
    PERMISSIONS.ANALYTICS_PERFORMANCE,
    PERMISSIONS.ANALYTICS_GEOGRAPHIC,
    PERMISSIONS.ANALYTICS_LEADERBOARD,
    PERMISSIONS.ANALYTICS_REFRESH,

    // Providers
    PERMISSIONS.PROVIDERS_VIEW,
    PERMISSIONS.PROVIDERS_CREATE,
    PERMISSIONS.PROVIDERS_UPDATE,
    PERMISSIONS.PROVIDERS_DELETE,
    PERMISSIONS.PROVIDERS_MANAGE,
    PERMISSIONS.PROVIDERS_CONTACT,
    PERMISSIONS.PROVIDERS_STATUS,
    PERMISSIONS.PROVIDERS_STATS,
    PERMISSIONS.PROVIDERS_SEARCH,
    PERMISSIONS.PROVIDERS_EXPORT,
    PERMISSIONS.PROVIDERS_IMPORT,

    // Requests
    PERMISSIONS.REQUESTS_VIEW,
    PERMISSIONS.REQUESTS_CREATE,
    PERMISSIONS.REQUESTS_UPDATE,
    PERMISSIONS.REQUESTS_DELETE,
    PERMISSIONS.REQUESTS_MANAGE,
    PERMISSIONS.REQUESTS_ASSIGN,
    PERMISSIONS.REQUESTS_CANCEL,
    PERMISSIONS.REQUESTS_STATUS,
    PERMISSIONS.REQUESTS_CONTACT,
    PERMISSIONS.REQUESTS_INVOICE,
    PERMISSIONS.REQUESTS_EXPORT,
    PERMISSIONS.REQUESTS_MATCHING,

    // Finances
    PERMISSIONS.FINANCES_VIEW,
    PERMISSIONS.FINANCES_CREATE,
    PERMISSIONS.FINANCES_UPDATE,
    PERMISSIONS.FINANCES_DELETE,
    PERMISSIONS.FINANCES_MANAGE,
    PERMISSIONS.FINANCES_TRANSACTIONS,
    PERMISSIONS.FINANCES_EXPORT,
    PERMISSIONS.FINANCES_SHARE,
    PERMISSIONS.FINANCES_REPORTS,
    PERMISSIONS.FINANCES_FORECAST,

    // Messages
    PERMISSIONS.MESSAGES_VIEW,
    PERMISSIONS.MESSAGES_CREATE,
    PERMISSIONS.MESSAGES_UPDATE,
    PERMISSIONS.MESSAGES_DELETE,
    PERMISSIONS.MESSAGES_MANAGE,
    PERMISSIONS.MESSAGES_SEND,
    PERMISSIONS.MESSAGES_RECEIVE,
    PERMISSIONS.MESSAGES_ARCHIVE,

    // Notifications
    PERMISSIONS.NOTIFICATIONS_VIEW,
    PERMISSIONS.NOTIFICATIONS_CREATE,
    PERMISSIONS.NOTIFICATIONS_UPDATE,
    PERMISSIONS.NOTIFICATIONS_DELETE,
    PERMISSIONS.NOTIFICATIONS_MANAGE,
    PERMISSIONS.NOTIFICATIONS_SEND,
    PERMISSIONS.NOTIFICATIONS_SETTINGS,
    PERMISSIONS.NOTIFICATIONS_TEST,

    // AI
    PERMISSIONS.AI_VIEW,
    PERMISSIONS.AI_PREDICTIONS,
    PERMISSIONS.AI_INSIGHTS,
    PERMISSIONS.AI_SETTINGS,
    PERMISSIONS.AI_MODELS,
    PERMISSIONS.AI_TRAINING,

    // Maps
    PERMISSIONS.MAPS_VIEW,
    PERMISSIONS.MAPS_GEOCODE,
    PERMISSIONS.MAPS_REVERSE_GEOCODE,
    PERMISSIONS.GEOLOCATION_VIEW,
    PERMISSIONS.GEOLOCATION_MANAGE,
    PERMISSIONS.ZONES_VIEW,
    PERMISSIONS.ZONES_MANAGE,

    // Settings
    PERMISSIONS.SETTINGS_VIEW,
    PERMISSIONS.SETTINGS_UPDATE,
    PERMISSIONS.SETTINGS_MANAGE,
    PERMISSIONS.SETTINGS_GENERAL,
    PERMISSIONS.SETTINGS_SECURITY,
    PERMISSIONS.SETTINGS_PERFORMANCE,
    PERMISSIONS.SETTINGS_NOTIFICATIONS,
    PERMISSIONS.SETTINGS_AI,
    PERMISSIONS.SETTINGS_WHATSAPP,
    PERMISSIONS.SETTINGS_PROVIDERS,
    PERMISSIONS.SETTINGS_REQUESTS,
    PERMISSIONS.SETTINGS_BUSINESS,
    PERMISSIONS.SETTINGS_ADMIN,
    PERMISSIONS.SETTINGS_MAINTENANCE,

    // Export/Import
    PERMISSIONS.EXPORT_VIEW,
    PERMISSIONS.EXPORT_CREATE,
    PERMISSIONS.EXPORT_DOWNLOAD,
    PERMISSIONS.IMPORT_VIEW,
    PERMISSIONS.IMPORT_CREATE,
    PERMISSIONS.IMPORT_UPLOAD,

    // Search
    PERMISSIONS.SEARCH_VIEW,
    PERMISSIONS.SEARCH_ADVANCED,
    PERMISSIONS.SEARCH_SUGGESTIONS,

    // Help
    PERMISSIONS.HELP_VIEW,
    PERMISSIONS.DOCS_VIEW,
    PERMISSIONS.API_DOCS_VIEW,
    PERMISSIONS.TOUR_VIEW,
    PERMISSIONS.ROADMAP_VIEW,

    // Keyboard
    PERMISSIONS.KEYBOARD_SHORTCUTS,
    PERMISSIONS.COMMAND_PALETTE,

    // Profile
    PERMISSIONS.PROFILE_VIEW,
    PERMISSIONS.PROFILE_UPDATE,
    PERMISSIONS.PROFILE_SETTINGS,
    PERMISSIONS.PROFILE_ACTIVITY,

    // Features
    PERMISSIONS.FEATURES_VIEW,
    PERMISSIONS.FEATURES_MANAGE,
    PERMISSIONS.FEATURE_FLAGS,

    // Maintenance
    PERMISSIONS.MAINTENANCE_VIEW,
    PERMISSIONS.MAINTENANCE_MANAGE,
    PERMISSIONS.MAINTENANCE_TOGGLE,
    PERMISSIONS.MAINTENANCE_DEPLOY,
    PERMISSIONS.MAINTENANCE_HISTORY,

    // Security
    PERMISSIONS.SECURITY_VIEW,
    PERMISSIONS.SECURITY_MANAGE,
    PERMISSIONS.SECURITY_AUDIT,
    PERMISSIONS.SECURITY_LOGS,

    // Chat
    PERMISSIONS.CHAT_VIEW,
    PERMISSIONS.CHAT_SEND,
    PERMISSIONS.CHAT_RECEIVE,
    PERMISSIONS.CHAT_MANAGE,
  ],
  [ROLES.MANAGER]: [
    // Dashboard
    PERMISSIONS.DASHBOARD_VIEW,
    PERMISSIONS.DASHBOARD_CUSTOMIZE,
    PERMISSIONS.DASHBOARD_WIDGETS,
    PERMISSIONS.DASHBOARD_EXPORT,
    PERMISSIONS.DASHBOARD_SHARE,

    // Analytics
    PERMISSIONS.ANALYTICS_VIEW,
    PERMISSIONS.ANALYTICS_CREATE,
    PERMISSIONS.ANALYTICS_UPDATE,
    PERMISSIONS.ANALYTICS_EXPORT,
    PERMISSIONS.ANALYTICS_SHARE,
    PERMISSIONS.ANALYTICS_REPORTS,
    PERMISSIONS.ANALYTICS_KPI,
    PERMISSIONS.ANALYTICS_INSIGHTS,
    PERMISSIONS.ANALYTICS_PERFORMANCE,
    PERMISSIONS.ANALYTICS_GEOGRAPHIC,
    PERMISSIONS.ANALYTICS_LEADERBOARD,
    PERMISSIONS.ANALYTICS_REFRESH,

    // Providers
    PERMISSIONS.PROVIDERS_VIEW,
    PERMISSIONS.PROVIDERS_CREATE,
    PERMISSIONS.PROVIDERS_UPDATE,
    PERMISSIONS.PROVIDERS_MANAGE,
    PERMISSIONS.PROVIDERS_CONTACT,
    PERMISSIONS.PROVIDERS_STATUS,
    PERMISSIONS.PROVIDERS_STATS,
    PERMISSIONS.PROVIDERS_SEARCH,
    PERMISSIONS.PROVIDERS_EXPORT,

    // Requests
    PERMISSIONS.REQUESTS_VIEW,
    PERMISSIONS.REQUESTS_CREATE,
    PERMISSIONS.REQUESTS_UPDATE,
    PERMISSIONS.REQUESTS_MANAGE,
    PERMISSIONS.REQUESTS_ASSIGN,
    PERMISSIONS.REQUESTS_CANCEL,
    PERMISSIONS.REQUESTS_STATUS,
    PERMISSIONS.REQUESTS_CONTACT,
    PERMISSIONS.REQUESTS_INVOICE,
    PERMISSIONS.REQUESTS_EXPORT,
    PERMISSIONS.REQUESTS_MATCHING,

    // Finances
    PERMISSIONS.FINANCES_VIEW,
    PERMISSIONS.FINANCES_CREATE,
    PERMISSIONS.FINANCES_UPDATE,
    PERMISSIONS.FINANCES_MANAGE,
    PERMISSIONS.FINANCES_TRANSACTIONS,
    PERMISSIONS.FINANCES_EXPORT,
    PERMISSIONS.FINANCES_SHARE,
    PERMISSIONS.FINANCES_REPORTS,
    PERMISSIONS.FINANCES_FORECAST,

    // Messages
    PERMISSIONS.MESSAGES_VIEW,
    PERMISSIONS.MESSAGES_CREATE,
    PERMISSIONS.MESSAGES_UPDATE,
    PERMISSIONS.MESSAGES_MANAGE,
    PERMISSIONS.MESSAGES_SEND,
    PERMISSIONS.MESSAGES_RECEIVE,
    PERMISSIONS.MESSAGES_ARCHIVE,

    // Notifications
    PERMISSIONS.NOTIFICATIONS_VIEW,
    PERMISSIONS.NOTIFICATIONS_CREATE,
    PERMISSIONS.NOTIFICATIONS_UPDATE,
    PERMISSIONS.NOTIFICATIONS_MANAGE,
    PERMISSIONS.NOTIFICATIONS_SEND,
    PERMISSIONS.NOTIFICATIONS_SETTINGS,
    PERMISSIONS.NOTIFICATIONS_TEST,

    // AI
    PERMISSIONS.AI_VIEW,
    PERMISSIONS.AI_PREDICTIONS,
    PERMISSIONS.AI_INSIGHTS,
    PERMISSIONS.AI_SETTINGS,

    // Maps
    PERMISSIONS.MAPS_VIEW,
    PERMISSIONS.MAPS_GEOCODE,
    PERMISSIONS.MAPS_REVERSE_GEOCODE,
    PERMISSIONS.GEOLOCATION_VIEW,
    PERMISSIONS.ZONES_VIEW,

    // Settings (Limited)
    PERMISSIONS.SETTINGS_VIEW,
    PERMISSIONS.SETTINGS_GENERAL,
    PERMISSIONS.SETTINGS_NOTIFICATIONS,
    PERMISSIONS.SETTINGS_PROVIDERS,
    PERMISSIONS.SETTINGS_REQUESTS,
    PERMISSIONS.SETTINGS_BUSINESS,

    // Export/Import
    PERMISSIONS.EXPORT_VIEW,
    PERMISSIONS.EXPORT_CREATE,
    PERMISSIONS.EXPORT_DOWNLOAD,
    PERMISSIONS.IMPORT_VIEW,
    PERMISSIONS.IMPORT_CREATE,
    PERMISSIONS.IMPORT_UPLOAD,

    // Search
    PERMISSIONS.SEARCH_VIEW,
    PERMISSIONS.SEARCH_ADVANCED,
    PERMISSIONS.SEARCH_SUGGESTIONS,

    // Help
    PERMISSIONS.HELP_VIEW,
    PERMISSIONS.DOCS_VIEW,
    PERMISSIONS.API_DOCS_VIEW,
    PERMISSIONS.TOUR_VIEW,
    PERMISSIONS.ROADMAP_VIEW,

    // Keyboard
    PERMISSIONS.KEYBOARD_SHORTCUTS,
    PERMISSIONS.COMMAND_PALETTE,

    // Profile
    PERMISSIONS.PROFILE_VIEW,
    PERMISSIONS.PROFILE_UPDATE,
    PERMISSIONS.PROFILE_SETTINGS,
    PERMISSIONS.PROFILE_ACTIVITY,

    // Features
    PERMISSIONS.FEATURES_VIEW,

    // Chat
    PERMISSIONS.CHAT_VIEW,
    PERMISSIONS.CHAT_SEND,
    PERMISSIONS.CHAT_RECEIVE,
    PERMISSIONS.CHAT_MANAGE,
  ],
  [ROLES.OPERATOR]: [
    // Dashboard
    PERMISSIONS.DASHBOARD_VIEW,
    PERMISSIONS.DASHBOARD_EXPORT,

    // Analytics
    PERMISSIONS.ANALYTICS_VIEW,
    PERMISSIONS.ANALYTICS_EXPORT,
    PERMISSIONS.ANALYTICS_REPORTS,
    PERMISSIONS.ANALYTICS_KPI,
    PERMISSIONS.ANALYTICS_INSIGHTS,
    PERMISSIONS.ANALYTICS_PERFORMANCE,
    PERMISSIONS.ANALYTICS_GEOGRAPHIC,
    PERMISSIONS.ANALYTICS_LEADERBOARD,
    PERMISSIONS.ANALYTICS_REFRESH,

    // Providers
    PERMISSIONS.PROVIDERS_VIEW,
    PERMISSIONS.PROVIDERS_CREATE,
    PERMISSIONS.PROVIDERS_UPDATE,
    PERMISSIONS.PROVIDERS_CONTACT,
    PERMISSIONS.PROVIDERS_STATUS,
    PERMISSIONS.PROVIDERS_STATS,
    PERMISSIONS.PROVIDERS_SEARCH,
    PERMISSIONS.PROVIDERS_EXPORT,

    // Requests
    PERMISSIONS.REQUESTS_VIEW,
    PERMISSIONS.REQUESTS_CREATE,
    PERMISSIONS.REQUESTS_UPDATE,
    PERMISSIONS.REQUESTS_ASSIGN,
    PERMISSIONS.REQUESTS_CANCEL,
    PERMISSIONS.REQUESTS_STATUS,
    PERMISSIONS.REQUESTS_CONTACT,
    PERMISSIONS.REQUESTS_INVOICE,
    PERMISSIONS.REQUESTS_EXPORT,
    PERMISSIONS.REQUESTS_MATCHING,

    // Finances
    PERMISSIONS.FINANCES_VIEW,
    PERMISSIONS.FINANCES_TRANSACTIONS,
    PERMISSIONS.FINANCES_EXPORT,
    PERMISSIONS.FINANCES_REPORTS,

    // Messages
    PERMISSIONS.MESSAGES_VIEW,
    PERMISSIONS.MESSAGES_CREATE,
    PERMISSIONS.MESSAGES_SEND,
    PERMISSIONS.MESSAGES_RECEIVE,
    PERMISSIONS.MESSAGES_ARCHIVE,

    // Notifications
    PERMISSIONS.NOTIFICATIONS_VIEW,
    PERMISSIONS.NOTIFICATIONS_SEND,

    // AI
    PERMISSIONS.AI_VIEW,
    PERMISSIONS.AI_PREDICTIONS,
    PERMISSIONS.AI_INSIGHTS,

    // Maps
    PERMISSIONS.MAPS_VIEW,
    PERMISSIONS.MAPS_GEOCODE,
    PERMISSIONS.MAPS_REVERSE_GEOCODE,
    PERMISSIONS.GEOLOCATION_VIEW,
    PERMISSIONS.ZONES_VIEW,

    // Export/Import
    PERMISSIONS.EXPORT_VIEW,
    PERMISSIONS.EXPORT_CREATE,
    PERMISSIONS.EXPORT_DOWNLOAD,

    // Search
    PERMISSIONS.SEARCH_VIEW,
    PERMISSIONS.SEARCH_ADVANCED,
    PERMISSIONS.SEARCH_SUGGESTIONS,

    // Help
    PERMISSIONS.HELP_VIEW,
    PERMISSIONS.DOCS_VIEW,
    PERMISSIONS.API_DOCS_VIEW,
    PERMISSIONS.TOUR_VIEW,
    PERMISSIONS.ROADMAP_VIEW,

    // Keyboard
    PERMISSIONS.KEYBOARD_SHORTCUTS,
    PERMISSIONS.COMMAND_PALETTE,

    // Profile
    PERMISSIONS.PROFILE_VIEW,
    PERMISSIONS.PROFILE_UPDATE,
    PERMISSIONS.PROFILE_SETTINGS,
    PERMISSIONS.PROFILE_ACTIVITY,

    // Features
    PERMISSIONS.FEATURES_VIEW,

    // Chat
    PERMISSIONS.CHAT_VIEW,
    PERMISSIONS.CHAT_SEND,
    PERMISSIONS.CHAT_RECEIVE,
  ],
  [ROLES.VIEWER]: [
    // Dashboard
    PERMISSIONS.DASHBOARD_VIEW,

    // Analytics
    PERMISSIONS.ANALYTICS_VIEW,
    PERMISSIONS.ANALYTICS_REPORTS,
    PERMISSIONS.ANALYTICS_KPI,
    PERMISSIONS.ANALYTICS_INSIGHTS,
    PERMISSIONS.ANALYTICS_PERFORMANCE,
    PERMISSIONS.ANALYTICS_GEOGRAPHIC,
    PERMISSIONS.ANALYTICS_LEADERBOARD,

    // Providers
    PERMISSIONS.PROVIDERS_VIEW,
    PERMISSIONS.PROVIDERS_STATS,
    PERMISSIONS.PROVIDERS_SEARCH,

    // Requests
    PERMISSIONS.REQUESTS_VIEW,
    PERMISSIONS.REQUESTS_EXPORT,

    // Finances
    PERMISSIONS.FINANCES_VIEW,
    PERMISSIONS.FINANCES_REPORTS,

    // Messages
    PERMISSIONS.MESSAGES_VIEW,
    PERMISSIONS.MESSAGES_RECEIVE,

    // Notifications
    PERMISSIONS.NOTIFICATIONS_VIEW,

    // AI
    PERMISSIONS.AI_VIEW,
    PERMISSIONS.AI_PREDICTIONS,
    PERMISSIONS.AI_INSIGHTS,

    // Maps
    PERMISSIONS.MAPS_VIEW,
    PERMISSIONS.GEOLOCATION_VIEW,
    PERMISSIONS.ZONES_VIEW,

    // Export/Import
    PERMISSIONS.EXPORT_VIEW,
    PERMISSIONS.EXPORT_DOWNLOAD,

    // Search
    PERMISSIONS.SEARCH_VIEW,
    PERMISSIONS.SEARCH_SUGGESTIONS,

    // Help
    PERMISSIONS.HELP_VIEW,
    PERMISSIONS.DOCS_VIEW,
    PERMISSIONS.API_DOCS_VIEW,
    PERMISSIONS.TOUR_VIEW,
    PERMISSIONS.ROADMAP_VIEW,

    // Keyboard
    PERMISSIONS.KEYBOARD_SHORTCUTS,
    PERMISSIONS.COMMAND_PALETTE,

    // Profile
    PERMISSIONS.PROFILE_VIEW,
    PERMISSIONS.PROFILE_UPDATE,
    PERMISSIONS.PROFILE_SETTINGS,
    PERMISSIONS.PROFILE_ACTIVITY,

    // Features
    PERMISSIONS.FEATURES_VIEW,

    // Chat
    PERMISSIONS.CHAT_VIEW,
    PERMISSIONS.CHAT_SEND,
    PERMISSIONS.CHAT_RECEIVE,
  ],
} as const

export const ROUTE_PERMISSIONS = [
  {
    path: "/admin",
    permissions: [PERMISSIONS.USERS_MANAGE, PERMISSIONS.ROLES_MANAGE, PERMISSIONS.PERMISSIONS_MANAGE],
    roles: [ROLES.SUPER_ADMIN, ROLES.ADMIN],
  },
  {
    path: "/settings",
    permissions: [PERMISSIONS.SETTINGS_MANAGE],
    roles: [ROLES.SUPER_ADMIN, ROLES.ADMIN, ROLES.MANAGER],
  },
  {
    path: "/analytics",
    permissions: [PERMISSIONS.ANALYTICS_VIEW],
    roles: [ROLES.SUPER_ADMIN, ROLES.ADMIN, ROLES.MANAGER, ROLES.OPERATOR],
  },
  {
    path: "/providers",
    permissions: [PERMISSIONS.PROVIDERS_VIEW],
    roles: [ROLES.SUPER_ADMIN, ROLES.ADMIN, ROLES.MANAGER, ROLES.OPERATOR],
  },
  {
    path: "/requests",
    permissions: [PERMISSIONS.REQUESTS_VIEW],
    roles: [ROLES.SUPER_ADMIN, ROLES.ADMIN, ROLES.MANAGER, ROLES.OPERATOR],
  },
  {
    path: "/finances",
    permissions: [PERMISSIONS.FINANCES_VIEW],
    roles: [ROLES.SUPER_ADMIN, ROLES.ADMIN, ROLES.MANAGER, ROLES.OPERATOR],
  },
  {
    path: "/messages",
    permissions: [PERMISSIONS.MESSAGES_VIEW],
    roles: [ROLES.SUPER_ADMIN, ROLES.ADMIN, ROLES.MANAGER, ROLES.OPERATOR],
  },
  {
    path: "/ai",
    permissions: [PERMISSIONS.AI_VIEW],
    roles: [ROLES.SUPER_ADMIN, ROLES.ADMIN, ROLES.MANAGER, ROLES.OPERATOR],
  },
  {
    path: "/map",
    permissions: [PERMISSIONS.MAPS_VIEW],
    roles: [ROLES.SUPER_ADMIN, ROLES.ADMIN, ROLES.MANAGER, ROLES.OPERATOR],
  },
]

// Get permissions for a role
export function getPermissionsForRole(role: string): string[] {
  return ROLE_PERMISSIONS[role as keyof typeof ROLE_PERMISSIONS] || []
}

// Check if user is super admin
export function isSuperAdmin(user: { role: string; permissions: string[] } | null): boolean {
  if (!user) return false
  return user.role === ROLES.SUPER_ADMIN || user.permissions.includes(PERMISSIONS.SUPER_ADMIN)
}

// Get all roles
export function getAllRoles(): string[] {
  return Object.values(ROLES)
}

// Get role description
export const ROLE_DESCRIPTIONS = {
  [ROLES.SUPER_ADMIN]: "Super Administrateur - Accès complet à toutes les fonctionnalités",
  [ROLES.ADMIN]: "Administrateur - Gestion complète du système",
  [ROLES.MANAGER]: "Manager - Gestion des équipes et des opérations",
  [ROLES.OPERATOR]: "Opérateur - Gestion des demandes et des prestataires",
  [ROLES.VIEWER]: "Lecteur - Consultation uniquement",
} as const
