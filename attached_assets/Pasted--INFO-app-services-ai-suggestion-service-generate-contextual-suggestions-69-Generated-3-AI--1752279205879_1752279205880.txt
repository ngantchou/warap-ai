| INFO     | app.services.ai_suggestion_service:generate_contextual_suggestions:69 - Generated 3 AI suggestions for user 237691924512
Error logging conversation: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.NotNullViolation) null value in column "description" of relation "service_requests" violates not-null constraint
DETAIL:  Failing row contains (50, 66, null, plomberie, null, Ndogbati, null, normal, null, null, null, 0, null, f, null, approximate, en attente, 2025-07-12 00:11:58.956159+00, 2025-07-12 00:11:58.956161+00, null, null, null, null, null, null).

[SQL: INSERT INTO service_requests (user_id, provider_id, service_type, description, location, preferred_time, urgency, scheduling_preference, preferred_time_start, preferred_time_end, urgency_supplement, landmark_references, location_confirmed, location_coordinates, location_accuracy, status, created_at, updated_at, accepted_at, completed_at, scheduled_at, estimated_cost, final_cost, commission_amount) VALUES (%(user_id)s, %(provider_id)s, %(service_type)s, %(description)s, %(location)s, %(preferred_time)s, %(urgency)s, %(scheduling_preference)s, %(preferred_time_start)s, %(preferred_time_end)s, %(urgency_supplement)s, %(landmark_references)s, %(location_confirmed)s, %(location_coordinates)s, %(location_accuracy)s, %(status)s, %(created_at)s, %(updated_at)s, %(accepted_at)s, %(completed_at)s, %(scheduled_at)s, %(estimated_cost)s, %(final_cost)s, %(commission_amount)s) RETURNING service_requests.id]
[parameters: {'user_id': 66, 'provider_id': None, 'service_type': 'plomberie', 'description': None, 'location': 'Ndogbati', 'preferred_time': None, 'urgency': 'normal', 'scheduling_preference': None, 'preferred_time_start': None, 'preferred_time_end': None, 'urgency_supplement': 0.0, 'landmark_references': None, 'location_confirmed': False, 'location_coordinates': None, 'location_accuracy': 'approximate', 'status': <RequestStatus.PENDING: 'en attente'>, 'created_at': datetime.datetime(2025, 7, 12, 0, 11, 58, 956159), 'updated_at': datetime.datetime(2025, 7, 12, 0, 11, 58, 956161), 'accepted_at': None, 'completed_at': None, 'scheduled_at': None, 'estimated_cost': None, 'final_cost': None, 'commission_amount': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
INFO:     172.31.128.16:60216 - "POST /webhook/chat HTTP/1.1" 200 OK